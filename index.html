<!doctype html>
<html lang="cs" data-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stránka na výpočet hodnocení — dropdown verze</title>
  <meta name="description" content="Kalkulačka bodového hodnocení se světlým/tmavým režimem, krokovačem a stylizovaným dropdownem (Mírné/Normální/Přísné/Nejpřísnější)." />
  <style>
    :root{
      /* barevné proměnné (světlý) */
      --bg: #fafafa;
      --bg-soft: #ffffff;
      --text: #161616;
      --muted: #6b7280;
      --border: #e5e7eb;
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --accent: #e11d48; /* červený nádech */
      --accent-600: #be123c;
      --accent-50: #fff1f2;
      --glass: rgba(255,255,255,.7);
      --ring: rgba(225,29,72,.35);
    }
    html[data-theme="dark"]{
      --bg: #0b0b0c;
      --bg-soft: #111113;
      --text: #f5f5f7;
      --muted: #a1a1aa;
      --border: #26272b;
      --shadow: 0 10px 30px rgba(0,0,0,.4);
      --accent: #fb7185; /* světlejší červená pro tmavý */
      --accent-600: #f43f5e;
      --accent-50: rgba(251,113,133,.12);
      --glass: rgba(17,17,19,.6);
      --ring: rgba(244,63,94,.35);
    }

    /* Globální layout */
    *{box-sizing:border-box}
    body{
      margin:0; font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text); background: var(--bg);
      min-height: 100dvh; display:grid; place-items:center;
      position:relative; overflow-x:hidden;
    }
    /* jemný animovaný gradient v pozadí */
    .bg-grad{
      position:fixed; inset:-20vmax; z-index:-1; filter: blur(80px) saturate(120%);
      background: radial-gradient(60vmax 60vmax at 20% 20%, var(--accent-50), transparent 60%),
                  radial-gradient(60vmax 60vmax at 80% 30%, rgba(244,63,94,.12), transparent 60%),
                  radial-gradient(60vmax 60vmax at 50% 80%, rgba(225,29,72,.12), transparent 60%);
      animation: float 20s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes float { from{transform:translateY(-2%)} to{transform:translateY(2%)} }

    .wrap{ width:min(450px, 90%); padding: 24px; }

    .card{
      background: var(--glass); backdrop-filter: saturate(1.1) blur(10px);
      border:1px solid var(--border); border-radius: 20px; box-shadow: var(--shadow);
      padding: clamp(18px, 5vw, 28px);
    }

    header{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:18px;
    }
    .title{ display:flex; align-items:center; gap:12px; }
    .logo{ width:69px; height:69px; border-radius:12px; display:grid; place-items:center; background: transparent; box-shadow:none; }
    .logo svg{ width:100%; height:100%; filter: drop-shadow(0 4px 10px var(--ring)); }
    :root{ --dur: 900ms; --e: cubic-bezier(.22,1,.36,1); }
    .ssp-logo{ width:100%; height:100%; display:block; cursor:pointer; }
    .ssp-logo .cell{ opacity:0; transform-origin:50% 50%; will-change:transform,opacity; filter:saturate(.98); transition:filter .25s ease; }
    .logo:hover .ssp-logo .cell{ filter:brightness(1.08) saturate(1.02); }
    @keyframes cellPop{ 0%{opacity:0; transform: translateY(10px) scale(.85); filter:saturate(.9) brightness(.9)} 60%{opacity:1; transform: translateY(-2px) scale(1.04)} 80%{transform: translateY(0) scale(.98)} 100%{opacity:1; transform: translateY(0) scale(1)} }
    @media (prefers-reduced-motion: reduce){ .ssp-logo .cell{ animation:none !important; opacity:1 !important } }
    h1{ font-size: clamp(1.1rem, 1rem + 1.2vw, 1.6rem); margin:0; }
    .sub{ color:var(--muted); font-size: .95rem; }

    /* Tlačítko pro téma */
    .theme-toggle{
      --size:40px;
      width:var(--size); height:var(--size); aspect-ratio:1/1;
      padding:0; line-height:0; border-radius:12px; border:1px solid var(--border);
      background: var(--bg-soft); display:grid; place-items:center; cursor:pointer; position:relative;
      transition:.2s transform ease, .2s box-shadow ease, .2s background ease;
      -webkit-appearance: none; appearance: none;
    }
    .theme-toggle:hover{ transform: translateY(-2px); box-shadow: var(--shadow); }
    .theme-toggle:active{ transform: translateY(0); }
    .theme-toggle svg{ width:22px; height:22px; }
    html[data-theme="dark"] .theme-toggle svg{ filter: drop-shadow(0 0 6px rgba(250,204,21,.55)); }

    /* Ovládací prvky */
    .controls{ display:grid; grid-template-columns: 1fr; gap:14px; margin: 14px 0 22px; }
    @media (min-width: 480px){ .controls{ grid-template-columns: 1fr 1fr; align-items:center; } }

    .field{ display:flex; align-items:center; justify-content:space-between; gap:10px; }

    .input-wrap{ position: relative; display:flex; align-items:center; gap:10px; width:100%; }
    .input-wrap input[type="number"]{
      width: 100%; padding: 10px 72px 10px 12px; border-radius: 12px; border:1px solid var(--border); background: var(--bg-soft);
      color:var(--text); font-weight:600; box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
      transition:.2s border-color ease, .2s box-shadow ease;
    }
    .input-wrap input[type="number"]::placeholder{ color:var(--muted); font-weight:500; }
    .input-wrap input[type="number"]:focus{ outline:none; border-color: var(--accent); box-shadow: 0 0 0 4px var(--ring); }

    /* schovej defaultní šipky */
    .input-wrap input[type="number"]::-webkit-outer-spin-button,
    .input-wrap input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance: none; margin: 0; }
    .input-wrap input[type="number"]{ -moz-appearance: textfield; }

    /* vlastní stepper uvnitř inputu */
    .stepper{ position:absolute; top:6px; right:6px; display:flex; gap:6px; }
    .step{ width:28px; height:28px; border-radius:8px; border:1px solid var(--border); background: var(--bg-soft); color:var(--text);
      display:grid; place-items:center; cursor:pointer; transition:.2s transform ease, .2s background-color ease, .2s border-color ease, .2s box-shadow ease, .2s color ease;
      box-shadow: 0 1px 0 rgba(255,255,255,.04), 0 1px 8px rgba(0,0,0,.04);
    }
    .step:hover{ background: var(--accent-50); }
    .step:active{ transform: translateY(1px); }
    .step:focus{ outline:none; box-shadow: 0 0 0 4px var(--ring); }
    .step svg{ width:16px; height:16px; stroke: currentColor; }
    html[data-theme="dark"] .step{ box-shadow: 0 1px 8px rgba(0,0,0,.22); }

    /* Stylizovaný dropdown */
    .select{ position:relative; width:100%; }
    .select select{
      width:100%; appearance:none; -webkit-appearance:none; -moz-appearance:none;
      padding:10px 40px 10px 12px; border-radius:12px; border:1px solid var(--border); background: var(--bg-soft);
      color:var(--text); font-weight:600; cursor:pointer; box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
      transition:.2s border-color ease, .2s box-shadow ease;
    }
    .select select:focus{ outline:none; border-color: var(--accent); box-shadow: 0 0 0 4px var(--ring); }
    .select::after{
      content:""; position:absolute; right:12px; top:50%; transform: translateY(-50%);
      border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid var(--muted);
      width:0; height:0; pointer-events:none;
    }

    .hint{ color:var(--muted); font-size:.92rem; }

    /* Tabulka */
    .table{ width:100%; border-collapse: collapse; overflow: hidden; border-radius: 20px; border:1px solid var(--border); background: var(--bg-soft); }
    .table th, .table td{ padding: 12px 12px; text-align:center; vertical-align: middle; }
    .table thead th{ background: linear-gradient(0deg, transparent, transparent), var(--bg-soft); position: sticky; top:0; z-index:1; border-bottom:1px solid var(--border); }
    .table tbody tr{ border-top:1px solid var(--border); transition: background .2s ease; }
    .table tbody tr:hover{ background: rgba(0,0,0,.03); }
    .table td:first-child{ width: 1%; white-space: nowrap; text-align:center; }
    .badge{ display:inline-block; font-weight:800; font-size: clamp(1rem, 0.9rem + 0.7vw, 1.4rem); letter-spacing:.3px; line-height:1.1;
      color: var(--accent-600); background: linear-gradient(90deg, var(--accent-600), var(--accent)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
      padding: 0; border: none; border-radius: 0; background-origin: border-box; text-shadow: 0 1px 0 rgba(255,255,255,.12);
    }
    .range{ font-weight:700; font-variant-numeric: tabular-nums; }
    .subpct{ color: var(--muted); font-weight: 500; margin-left:8px; }

    /* Animace při přepočtu */
    .pop{ animation: pop .35s ease; }
    @keyframes pop{ 0%{ transform: translateY(4px); opacity:.3; } 60%{ transform: translateY(-2px); opacity:1; } 100%{ transform: translateY(0); } }

    footer{ margin-top: 18px; color:var(--muted); font-size:.9rem; display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; }
    .pill{ padding:6px 10px; border:1px dashed var(--border); border-radius:999px; }
  </style>
</head>
<body>
  <div class="bg-grad" aria-hidden="true"></div>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="title">
          <div class="logo" aria-hidden="true">
            <!-- SSP Krnov – logo 1:1 s animacemi buněk -->
            <svg class="ssp-logo" viewBox="0 0 376 376" role="img" aria-labelledby="t d" tabindex="0">
              <title id="t">SSP Krnov – oranžové kostky (vektor 1:1)</title>
              <desc id="d">Čtvercová mřížka 4×4 oranžových buněk; okolí je průhledné. Kliknutím se změní efekt.</desc>
              <g class="cells">
                <!-- řádek 1 -->
                <rect class="cell" x="24"  y="24"  width="64" height="64" rx="8" fill="#EF743B"/>
                <rect class="cell" x="112" y="24"  width="64" height="64" rx="8" fill="#F5A33F"/>
                <rect class="cell" x="200" y="24"  width="64" height="64" rx="8" fill="#F9B641"/>
                <rect class="cell" x="288" y="24"  width="64" height="64" rx="8" fill="#FCCA43"/>
                <!-- řádek 2 -->
                <rect class="cell" x="24"  y="112" width="64" height="64" rx="8" fill="#EF743B"/>
                <rect class="cell" x="112" y="112" width="64" height="64" rx="8" fill="#F5A33F"/>
                <rect class="cell" x="200" y="112" width="64" height="64" rx="8" fill="#F9B641"/>
                <rect class="cell" x="288" y="112" width="64" height="64" rx="8" fill="#F9B641"/>
                <!-- řádek 3 -->
                <rect class="cell" x="24"  y="200" width="64" height="64" rx="8" fill="#EF743B"/>
                <rect class="cell" x="112" y="200" width="64" height="64" rx="8" fill="#F5A33F"/>
                <rect class="cell" x="200" y="200" width="64" height="64" rx="8" fill="#F5A33F"/>
                <rect class="cell" x="288" y="200" width="64" height="64" rx="8" fill="#F5A33F"/>
                <!-- řádek 4 -->
                <rect class="cell" x="24"  y="288" width="64" height="64" rx="8" fill="#EF743B"/>
                <rect class="cell" x="112" y="288" width="64" height="64" rx="8" fill="#EF743B"/>
                <rect class="cell" x="200" y="288" width="64" height="64" rx="8" fill="#EF743B"/>
                <rect class="cell" x="288" y="288" width="64" height="64" rx="8" fill="#EF743B"/>
              </g>
            </svg>
          </div>
          <div>
            <h1>Stránka na výpočet hodnocení</h1>
          </div>
        </div>
        <button id="themeBtn" class="theme-toggle" aria-label="Přepnout téma (světlý/tmavý)">
          <svg id="iconMoon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
      </header>

      <div class="controls">
        <div class="field">
          <!-- Bez popisku: používáme placeholder + aria-label -->
          <div class="input-wrap">
            <input id="points" type="number" min="1" max="1000" step="1" value="20" inputmode="numeric" placeholder="Max. bodů" aria-label="Maximální počet bodů" />
            <div class="stepper" role="group" aria-label="Změna počtu bodů">
              <button type="button" class="step down" aria-label="Snížit o 1">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="5" y1="12" x2="19" y2="12"/></svg>
              </button>
              <button type="button" class="step up" aria-label="Zvýšit o 1">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
              </button>
            </div>
          </div>
        </div>

        <div class="field">
          <!-- Nahradil jsem segment přepínač stylizovaným dropdownem -->
          <div class="select">
            <select id="scheme" aria-label="Druh hodnocení">
              <option value="MIRNE">Mírné</option>
              <option value="NORMALNI" selected>Normální</option>
              <option value="PRISNE">Přísné</option>
              <option value="NEJPRISNEJSI">Nejpřísnější</option>
            </select>
          </div>
        </div>
      </div>

      <table class="table" id="table">
        <thead>
          <tr>
            <th>Známka</th>
            <th>Rozpětí (body)</th>
          </tr>
        </thead>
        <tbody id="tbody"><!-- plní JS --></tbody>
      </table>

    </div>
  </div>

  <script>
    // ==============================
    //  Konfigurace hranic procent
    // ==============================
    // pairs: [upper%, lower%] pro známky 1..5
    const PERCENTS = {
      NORMALNI:   { name: 'Normální',      pairs: [[100,85],[84,69],[68,52],[51,33],[32,0]] },
      MIRNE:      { name: 'Mírné',          pairs: [[100,90],[89,75],[74,45],[44,25],[24,0]] },
      PRISNE:     { name: 'Přísné',         pairs: [[100,90],[89,75],[74,60],[59,50],[49,0]] },
      NEJPRISNEJSI:{ name: 'Nejpřísnější',  pairs: [[100,90],[89,80],[79,70],[69,60],[59,0]] },
    };

    // DOM prvky
    const pointsEl = document.getElementById('points');
    const schemeSelect = document.getElementById('scheme');
    const tbody = document.getElementById('tbody');
    const themeBtn = document.getElementById('themeBtn');

    // ==============================
    //  Téma (světlý/tmavý) s uložením
    // ==============================
    const preferred = localStorage.getItem('theme') || 'auto';
    applyTheme(preferred);

    themeBtn.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      applyTheme(next);
      localStorage.setItem('theme', next);
      themeBtn.classList.add('pop'); setTimeout(()=>themeBtn.classList.remove('pop'), 350);
    });

    function applyTheme(mode){
      if(mode === 'auto'){
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.setAttribute('data-theme', prefersDark ? 'dark':'light');
      }else{
        document.documentElement.setAttribute('data-theme', mode);
      }
      if(document.documentElement.getAttribute('data-theme') === 'dark'){
        themeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="#FACC15" stroke="#FACC15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>';
      }else{
        themeBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>';
      }
    }

    // ==============================
    //  Přepočet tabulky
    // ==============================
    function updateTable(){
      const raw = pointsEl.value;
      let max;

      if(raw.trim() === ''){
        max = 0; // prázdný vstup => 0 (bez upozornění)
      }else{
        max = parseInt(raw, 10);
        if(Number.isNaN(max)){
          max = 0;
        }else{
          if(max < 1){
            alert('Počet bodů nemůže být záporný ani nula!!');
            pointsEl.value = '20';
            updateTable();
            return;
          }
          if(max > 1000){
            alert('Počet bodů nemůže být víc než 1000!');
            pointsEl.value = '20';
            updateTable();
            return;
          }
        }
      }

      const scheme = schemeSelect.value; // 'NORMALNI' | 'MIRNE' | 'PRISNE' | 'NEJPRISNEJSI'
      const pairs = PERCENTS[scheme].pairs;

      tbody.innerHTML = '';

      let last = max;
      for(let i=0; i<5; i++){
        const [upperPct, lowerPct] = pairs[i];
        const upperPts = last;
        const lowerPts = Math.ceil(max * (lowerPct/100));

        const u = Math.max(0, upperPts);
        const l = Math.max(0, lowerPts);

        const pctText = `${lowerPct}–${upperPct} %`;
        const display = l>u ? `${u} – ${l}` : `${l} – ${u}`;

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td><span class="badge">${i+1}</span></td>
          <td class="range">${display} <span class="subpct">(${pctText})</span></td>
        `;
        tr.classList.add('pop');
        tbody.appendChild(tr);

        last = lowerPts - 1;
      }

      localStorage.setItem('points', String(max));
      localStorage.setItem('scheme', scheme);
    }

    // Obsluha vstupů
    pointsEl.addEventListener('input', () => updateTable());
    schemeSelect.addEventListener('change', () => { updateTable(); schemeSelect.classList.add('pop'); setTimeout(()=>schemeSelect.classList.remove('pop'), 350); });

    // vlastní stepper tlačítka
    const btnUp = document.querySelector('.step.up');
    const btnDown = document.querySelector('.step.down');

    function changeBy(delta){
      if(pointsEl.value.trim()==='') pointsEl.value = '0';
      const before = Number(pointsEl.value||0);
      let next = before + delta;
      const min = Number(pointsEl.min||1), max = Number(pointsEl.max||1000);
      next = Math.max(min, Math.min(max, next));
      pointsEl.value = String(next);
      updateTable();
    }

    btnUp.addEventListener('click', () => changeBy(1));
    btnDown.addEventListener('click', () => changeBy(-1));

    function addHoldRepeat(el, delta){
      let holdTimeout = null, repeatInterval = null;
      const HOLD_DELAY = 450;   // prodleva, než se spustí rychlé opakování
      const STEP_EVERY = 90;    // rychlost opakování

      const start = () => {
        clearTimeout(holdTimeout); clearInterval(repeatInterval);
        holdTimeout = setTimeout(()=>{ repeatInterval = setInterval(()=> changeBy(delta), STEP_EVERY); }, HOLD_DELAY);
      };
      const stop = () => { clearTimeout(holdTimeout); clearInterval(repeatInterval); };

      el.addEventListener('mousedown', start);
      el.addEventListener('touchstart', start, {passive:true});
      document.addEventListener('mouseup', stop);
      document.addEventListener('touchend', stop, {passive:true});
      el.addEventListener('mouseleave', stop);
      document.addEventListener('touchcancel', stop, {passive:true});
    }
    addHoldRepeat(btnUp, +1);
    addHoldRepeat(btnDown, -1);

    // Inicializace z localStorage + první výpočet (vč. mapování starých hodnot ZŠ/SŠ)
    (function init(){
      const savedPoints = Number(localStorage.getItem('points'));
      let savedScheme = localStorage.getItem('scheme');
      if(savedPoints && savedPoints>0) pointsEl.value = String(Math.floor(savedPoints));
      // mapování starých hodnot na nové
      if(savedScheme === 'SS') savedScheme = 'NORMALNI';
      if(savedScheme === 'ZS') savedScheme = 'MIRNE';
      const allowed = ['MIRNE','NORMALNI','PRISNE','NEJPRISNEJSI'];
      if(savedScheme && allowed.includes(savedScheme)){
        schemeSelect.value = savedScheme;
      }else{
        schemeSelect.value = 'NORMALNI'; // default
      }
      updateTable();
    })();
  </script>

  <script>
    // SSP Krnov – náhodné jednorázové efekty pro buňky loga (diagonal/spiral/snake/random)
    (function(){
      const svg = document.querySelector('.logo .ssp-logo');
      if(!svg) return;
      const cells = Array.from(svg.querySelectorAll('.cell'));
      const rows = 4, cols = 4;
      const MODES = ['diagonal','spiral','snake','random'];
      let currentMode = null;

      function spiralOrder(rows, cols){
        const res = Array(rows * cols).fill(0);
        let top = 0, left = 0, bottom = rows - 1, right = cols - 1, idx = 0;
        while (top <= bottom && left <= right) {
          for (let c = left; c <= right; c++) res[top * cols + c] = idx++;
          top++;
          for (let r = top; r <= bottom; r++) res[r * cols + right] = idx++;
          right--;
          if (top <= bottom) { for (let c = right; c >= left; c--) res[bottom * cols + c] = idx++; bottom--; }
          if (left <= right) { for (let r = bottom; r >= top; r--) res[r * cols + left] = idx++; left++; }
        }
        return res;
      }
      const spiralIdx = spiralOrder(rows, cols);

      function pickMode(exclude){ let m; do{ m = MODES[Math.floor(Math.random()*MODES.length)]; } while(m===exclude); return m; }

      function resetAnimations(){
        cells.forEach(el=>{ el.style.animation='none'; el.style.animationDelay='0s'; el.style.opacity=0; });
        void svg.getBoundingClientRect();
        cells.forEach(el=>{ el.style.animation=''; el.style.animationDelay=''; });
      }

      function applyMode(mode){
        resetAnimations(); currentMode = mode; svg.dataset.mode = mode;
        const step = 0.09; // s, rozestup mezi buňkami
        const randOrder = Array.from({length: cells.length}, (_, i)=>i).sort(()=>Math.random()-0.5);
        requestAnimationFrame(()=>{
          cells.forEach((el, i)=>{
            const r = (i/cols)|0, c = i%cols; let delay = 0;
            if(mode==='diagonal') delay = (r+c)*step;
            else if(mode==='snake') delay = (r*cols + (r%2 ? (cols-1-c):c))*step;
            else if(mode==='spiral') delay = spiralIdx[i]*step;
            else if(mode==='random') delay = randOrder.indexOf(i)*step;
            el.style.animation = `cellPop var(--dur) var(--e) both`;
            el.style.animationDelay = delay+'s';
          });
        });
      }

      function runRandom(){ applyMode(pickMode(currentMode)); }
      runRandom();

      const onActivate = () => runRandom();
      svg.addEventListener('click', onActivate);
      svg.addEventListener('pointerdown', (e)=>{ if(e.pointerType==='touch') onActivate(); });
      cells.forEach(el=> el.addEventListener('click', onActivate));
      svg.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); runRandom(); }});
    })();
  </script>
</body>
</html>
